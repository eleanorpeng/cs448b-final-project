<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emoji Trends Explorer</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600&family=Nunito:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Select2 for better dropdowns -->
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/spotlight.css" />
  </head>
  <body>
    <header class="header">
      <div class="header-content">
        <h1 class="title">
          Emoji Trends <span class="bounce">ğŸš€</span> Explorer
        </h1>
        <p class="subtitle">Discover how the world speaks in icons</p>
      </div>
    </header>

    <!-- Intro Animation Section -->
    <section id="intro-animation" class="intro-section">
      <div class="phone-sticky-container">
        <div class="phone-frame">
          <div class="phone-screen">
            <div class="imessage-header">
              <div class="back-btn">â€¹</div>
              <div class="contact-info">
                <div class="contact-avatar">B</div>
                <div class="contact-name">Bestie</div>
              </div>
              <div class="info-btn">â“˜</div>
            </div>
            <div class="message-area">
              <div class="timestamp">Today 12:00 PM</div>
              <div class="message received">Have you seen the new emoji?</div>
              <div
                class="message sent"
                id="sent-message"
                style="opacity: 0; transform: translateY(20px)"
              >
                omg ğŸ‘€ğŸ¤©
              </div>
            </div>
            <div class="input-area">
              <div class="camera-icon">ğŸ“·</div>
              <div class="apps-icon">ğŸ…°</div>
              <div class="input-field-wrapper">
                <div class="input-field" id="typing-input"></div>
              </div>
              <div class="send-button" id="send-btn">â†‘</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Sentiment View -->
    <section id="view-sentiment" class="section">
      <div class="ranking-header">
        <h2>Global Emoji Sentiment Explorer</h2>
        <p>Analyzing Digital Emotion Through Emoji Usage Patterns</p>
      </div>

      <div class="controls-container">
        <div class="control-group">
          <label for="sentiment-filter">Sentiment Filter:</label>
          <select id="sentiment-filter" class="custom-select">
            <option value="all">All Emojis</option>
            <option value="positive">Positive Only</option>
            <option value="neutral">Neutral Only</option>
            <option value="negative">Negative Only</option>
          </select>
        </div>

        <div class="control-group">
          <label for="sentiment-min-occurrences">
            Min Occurrences:
            <span
              id="sentiment-occurrence-value"
              style="font-weight: bold; color: var(--primary-dark)"
              >0</span
            >
          </label>
          <input
            type="range"
            id="sentiment-min-occurrences"
            min="0"
            max="5000"
            step="100"
            value="0"
            style="width: 200px; cursor: pointer"
          />
        </div>

        <div class="control-group">
          <label for="sentiment-sort-by">Size By:</label>
          <select id="sentiment-sort-by" class="custom-select">
            <option value="occurrences">Occurrences</option>
            <option value="sentiment">Sentiment Score</option>
          </select>
        </div>
      </div>

      <div class="chart-container">
        <div id="sentiment-visualization"></div>
      </div>

      <div class="sentiment-stats">
        <div class="stat-card">
          <div class="stat-value" id="sentiment-total-emojis">0</div>
          <div class="stat-label">Total Emojis Shown</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sentiment-avg-score">0</div>
          <div class="stat-label">Avg Sentiment Score</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sentiment-most-used">-</div>
          <div class="stat-label">Most Used Emoji</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="sentiment-most-positive">-</div>
          <div class="stat-label">Most Positive</div>
        </div>
      </div>
    </section>

    <!-- Country Usage View -->
    <section id="view-country" class="section">
      <div class="ranking-header">
        <h2>Emoji Usage by Country</h2>
        <p>Compare top emojis between two countries</p>
      </div>

      <div class="country-comparison-layout">
        <!-- Controls Top Row -->
        <div class="country-controls-top">
          <div class="control-group-inline">
            <label for="country-selector-a">Country A</label>
            <select
              id="country-selector-a"
              class="custom-select"
              style="width: 200px"
            >
              <option value="US">United States ğŸ‡ºğŸ‡¸</option>
              <option value="AU">Australia ğŸ‡¦ğŸ‡º</option>
              <option value="BR">Brazil ğŸ‡§ğŸ‡·</option>
              <option value="DE">Germany ğŸ‡©ğŸ‡ª</option>
              <option value="FR">France ğŸ‡«ğŸ‡·</option>
              <option value="GB">Great Britain ğŸ‡¬ğŸ‡§</option>
              <option value="IN">India ğŸ‡®ğŸ‡³</option>
              <option value="JP">Japan ğŸ‡¯ğŸ‡µ</option>
              <option value="PH">Philippines ğŸ‡µğŸ‡­</option>
            </select>
          </div>
          <div class="control-group-inline">
            <label for="country-selector-b">Country B</label>
            <select
              id="country-selector-b"
              class="custom-select"
              style="width: 200px"
            >
              <option value="JP" selected>Japan ğŸ‡¯ğŸ‡µ</option>
              <option value="US">United States ğŸ‡ºğŸ‡¸</option>
              <option value="AU">Australia ğŸ‡¦ğŸ‡º</option>
              <option value="BR">Brazil ğŸ‡§ğŸ‡·</option>
              <option value="DE">Germany ğŸ‡©ğŸ‡ª</option>
              <option value="FR">France ğŸ‡«ğŸ‡·</option>
              <option value="GB">Great Britain ğŸ‡¬ğŸ‡§</option>
              <option value="IN">India ğŸ‡®ğŸ‡³</option>
              <option value="PH">Philippines ğŸ‡µğŸ‡­</option>
            </select>
          </div>
        </div>

        <!-- Charts Area -->
        <div class="country-charts-area">
          <div class="chart-wrapper">
            <h3 id="title-country-a" class="chart-title-small"></h3>
            <div id="country-chart-a" class="country-chart"></div>
          </div>
          <div class="chart-wrapper">
            <h3 id="title-country-b" class="chart-title-small"></h3>
            <div id="country-chart-b" class="country-chart"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Trends View -->
    <section id="view-trends" class="section">
      <div class="controls-container">
        <div class="control-group">
          <label for="emoji-selector">Choose your emojis to compare:</label>
          <select id="emoji-selector" multiple="multiple" style="width: 100%">
            <!-- Options populated by JS -->
          </select>
        </div>
        <div class="control-group" style="flex: 0 0 auto">
          <label>Time Granularity:</label>
          <div class="granularity-controls">
            <button class="btn-pill active" data-granularity="month">
              Monthly
            </button>
            <button class="btn-pill" data-granularity="year">Yearly</button>
          </div>
          <div
            id="time-filters"
            class="time-filters"
            style="margin-top: 1rem; display: flex; gap: 10px"
          >
            <select id="year-filter" class="custom-select">
              <option value="all">All Years</option>
            </select>
          </div>
        </div>
        <div class="button-group">
          <button id="clear-btn" class="btn btn-secondary">Clear</button>
        </div>
      </div>

      <div id="chart-container" class="chart-container">
        <div class="chart-header">
          <h2 id="chart-title">Select emojis to start! âœ¨</h2>
          <div id="selected-emojis-display" class="selected-emojis"></div>
        </div>
        <div id="visualization"></div>
        <div id="placeholder" class="placeholder-text">
          <span class="placeholder-emoji">ğŸ‘†</span>
          <p>
            Pick some emojis from the menu above<br />to see their popularity
            over time!
          </p>
        </div>
      </div>

      <!-- Spotlight Analysis Section -->
      <div id="spotlight-analysis" class="spotlight-section">
        <div class="ranking-header">
          <h2>Spotlight Analysis</h2>
          <p>Deep dive into specific emoji trends</p>
        </div>

        <!-- Santa -->
        <div class="spotlight-block">
          <h3>Santa ğŸ…</h3>
          <div id="spotlight-chart-santa" class="spotlight-chart"></div>
          <div class="spotlight-content placeholder-content">
            <p>
              For the santa emoji, we see that thereâ€™s a peak every year in
              December, while the usage remains low during the rest of the year.
              This trend reflects the time period of the holiday accurately, as
              Christmas occurs on December 25th, which is the month when the
              usage peaks.
            </p>
          </div>
        </div>

        <!-- Rainbow -->
        <div class="spotlight-block">
          <h3>Rainbow ğŸŒˆ</h3>
          <div id="spotlight-chart-rainbow" class="spotlight-chart"></div>
          <div class="spotlight-content placeholder-content">
            <p>
              We see that there are several peaks of rainbow usage across the
              years, with the highest peaks in June 2015 and 2019. Itâ€™s
              interesting to note that there are several lower peaks in June
              every year due to pride month. However, the usage peaks in June
              2015 due to the legalization of same-sex marriage nationwide in
              the United States by the U.S. Supreme Court. This indicates that
              people might be tweeting to celebrate using the rainbow emoji. The
              other peak in June 2019 might be due the 50th anniversary of the
              Stonewall Uprising, a historical vent that sparked the modern
              LGBTQ+ rights movement.
            </p>
          </div>
        </div>

        <!-- Snake -->
        <div class="spotlight-block">
          <h3>Snake ğŸ</h3>
          <div id="spotlight-chart-snake" class="spotlight-chart"></div>
          <div class="spotlight-content placeholder-content">
            <p>
              Looking at the usage of snake emoji, we see that thereâ€™s a peak in
              2016. To investigate further, we narrowed down the timeline to the
              months in 2016, observing another peak on April 14, 2016 where the
              snake emoji was used 59862 times on Twitter. It was because Kobe
              Bryantâ€™s last game was on April 13, 2016, where he scored 60
              points in the Lakers against the Utah Jazz. In response to such
              incredible performance in his final game, the fans posted
              ğŸÂ #MambaDay on Twitter to commemorate this game and Kobe Bryant
              (whose nickname is Black Mamba). Interestingly, if we include
              basketball emoji in this visualization, we see that the peak of
              the basketball and snake emoji almost aligned.
            </p>
          </div>
        </div>

        <!-- Graduation Cap -->
        <div class="spotlight-block">
          <h3>Graduation Cap ğŸ“</h3>
          <div
            id="spotlight-chart-graduation-cap"
            class="spotlight-chart"
          ></div>
          <div class="spotlight-content placeholder-content">
            <p>
              There are several peaks across the years for the usage of
              graduation cap emoji, where the peak always occurs around June
              during graduation season. However, we noticed that the usage
              became lower starting 2017. While we canâ€™t say for certain, there
              are several hypotheses of the cause. First, due to the rise of
              other social media platforms, students might be posting more on
              other social media such as Instagram instead of Twitter. Second,
              the man and woman student emoji (ğŸ‘¨ğŸ»â€ğŸ“Â and ğŸ‘©ğŸ»â€ğŸ“) were introduced in
              November 2016 as part of Emoji 4.0. While we donâ€™t have data for
              these usage, we hypothesized that students might be using these
              emojis in conjunction with the graduation cap emoji.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Ranking View -->
    <section id="view-ranking" class="section">
      <div class="ranking-header">
        <h2>Emoji Library & Rankings</h2>
        <p>
          Explore the full emoji dataset. Data sourced from iamcal/emoji-data.
        </p>

        <!-- Category Filter -->
        <div
          class="ranking-controls"
          style="
            margin-top: 1.5rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
          "
        >
          <select id="category-filter" style="width: 250px">
            <option value="all">All Categories</option>
            <!-- Populated by JS -->
          </select>
        </div>
      </div>
      <div id="emoji-grid" class="emoji-grid">
        <!-- Populated by JS -->
        <div class="loading-spinner">Loading rankings...</div>
      </div>
    </section>

    <!-- Details Modal -->
    <div id="emoji-modal" class="modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <div id="modal-body">
          <!-- Populated by JS -->
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>Made with ğŸ’– using Data Visualization</p>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/data-loader.js"></script>
    <script src="js/visualizations.js"></script>
    <script src="js/sentiment.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
